# RF TACTICAL MONITOR - PROJECT RULES

## CRITICAL REQUIREMENTS
1. NEVER generate placeholder code, TODOs, stub functions, or mock implementations
2. ALL code must be production-ready and functional for REAL hardware
3. Write code for actual HackRF/SDR operation - no mock modes, no simulations
4. Code should handle missing hardware gracefully (log errors, show status, don't crash)
5. If a feature cannot be implemented, explain why - never fake it with placeholders

## TECHNOLOGY STACK
- PyQt5: pip install PyQt5 (on dev machine), python3-pyqt5 (on Pi)
- pyqtgraph: pip package
- numpy, scipy: pip packages
- SoapySDR: conditional import with graceful handling if missing
- Python: System Python 3

## TARGET PLATFORM
- Deployment: Raspberry Pi 5, ARM64 architecture
- Display: 1024x600 SparkFun LCD touchscreen
- Input: Touch-only in production (no keyboard/mouse)
- All touch targets: minimum 44px per MIL-STD-1472H
- Development: Personal machine, code for real hardware deployment

## CODE STANDARDS
- Absolute imports: from ui.waterfall_widget import TacticalWaterfall
- Type hints on all function signatures
- Docstrings for all classes and public methods
- File paths: relative to project root
- All measurements in SI units (Hz not MHz, meters not feet, seconds not ms)
- Time: UTC only, 24-hour format

## PERFORMANCE REQUIREMENTS
- Waterfall display: target 30 FPS minimum
- FFT processing: must not block UI thread
- Use QThread for all SDR/decoder operations
- Pre-allocate numpy arrays, no per-frame allocation
- Use float32 throughout (ARM NEON optimization)

## UI REQUIREMENTS
- Color scheme: F-35 TSD tactical (green #00FF41 on black #0A0A0A)
- Font: "DejaVu Sans Mono", monospace fallback
- All text: uppercase for headers/labels, sentence case for content
- Resolution: 1024x600 (SparkFun display)
- Frameless fullscreen window (Qt.FramelessWindowHint)

## ERROR HANDLING
- All SDR operations: try/except with graceful degradation
- Missing hardware: log error, show status message, continue operation
- All file I/O: check existence before opening
- All subprocess launches: capture stderr, handle failure
- Never crash - log errors and show user-friendly status messages
- Status bar indicators:
  * "SDR: NOT CONNECTED" - HackRF not detected
  * "SDR: ERROR - [msg]" - Connection/operation failed
  * "SDR: ACTIVE" - Hardware operating normally

## TESTING APPROACH
- Code will be tested on actual Raspberry Pi hardware after Step 18 complete
- During development (Steps 7-18): code review only, no execution tests
- All code must be ready for immediate hardware deployment
- Focus on correctness, performance, and real-time operation
- No mock modes, simulations, or fake data generation

## VERIFICATION FORMAT FOR STEPS 7-18
For all prompts during development phase:
[VERIFICATION]
After creation, code review only - no testing until Step 18 complete.
Ensure:
- No syntax errors
- All imports are correct
- Code is production-ready for real hardware
- Graceful error handling if hardware missing
Hardware testing will occur after all 18 steps are complete.

## FILE ORGANIZATION
- config/: YAML files only
- ui/: PyQt5 widgets and views only
- radio/: SDR interfacing and signal processing
- decoders/: Protocol-specific decoders (ADS-B, ISM, etc.)
- network/: ATAK/CoT networking
- utils/: Helper functions and shared utilities
- assets/: Fonts, icons, static resources

## SECURITY/LEGAL CONSTRAINTS
- ADS-B: receive only, NEVER transmit (federal crime)
- Cellular: passive monitoring only, no active probing
- Wi-Fi: use built-in wlan0, not HackRF (bandwidth limitation)
- BLE: use built-in Bluetooth, not HackRF (protocol limitation)

## DOCUMENTATION
- Every commit: meaningful message describing what was added/fixed
- Code comments: explain WHY, not WHAT (code should be self-documenting)
- No unnecessary documentation during rapid development phase
